/*! angular-kendo 0.6.0 2013-08-20 */
"use strict"; angular.module("kendo.directives", []), angular.module("kendo.directives", [], ["$provide", function (a) { var b = []; angular.forEach([kendo.ui, kendo.dataviz && kendo.dataviz.ui], function (a) { angular.forEach(a, function (a, c) { c.match(/^[A-Z]/) && "Widget" !== c && b.push("kendo" + c) }) }), a.value("kendoWidgets", b) }]), angular.module("kendo.directives").provider("kendoDecorator", [function () { var a = this, b = "$kendoOptionsDecorators", c = {}; a.addGlobalOptionsDecorator = function (a, b) { if (angular.isString(a) && angular.isFunction(b)) return c[a] = c[a] || [], c[a].push(b), function () { c[a].splice(c[a].indexOf(b), 1) }; throw new Error("Illegal Arguments") }, a.getGlobalOptionsDecorator = function (a) { return c[a] || [] }, a.$get = [function () { function c(a) { var c = a.data(b); return angular.isArray(c) || (c = [], a.data(b, c)), c } function d(a, b, c) { for (var d = 0; d < b.length; d++) b[d](a, c) } function e(c, e, f) { var g = a.getGlobalOptionsDecorator(e); d(c, g, f), g = c.data(b) || [], d(c, g, f) } function f(a, b) { if (angular.isFunction(b)) { var d = c(a); return d.push(b), function () { d.splice(d.indexOf(b), 1) } } } return { getOptionsDecorator: c, addOptionsDecorator: f, decorateOptions: e } }] }]), angular.module("kendo.directives").factory("widgetFactory", ["$parse", "$log", "kendoDecorator", function (a, b, c) { var d = { kDataSource: !0, kOptions: !0, kRebind: !0 }, e = function (c, e, f, g, h) { var i = /k(On)?([A-Z].*)/; if (!d[g]) { var j, k, l = g.match(i); l && (j = l[2].charAt(0).toLowerCase() + l[2].slice(1), l[1] ? (k = a(h), f[j] = function (a) { "$apply" === e.$root.$$phase || "$digest" === e.$root.$$phase ? k({ kendoEvent: a }) : e.$apply(function () { k(e, { kendoEvent: a }) }) }) : (f[j] = angular.copy(e.$eval(h)), void 0 === f[j] && h.match(/^\w*$/) && b.warn(c + "'s " + g + " attribute resolved to undefined. Maybe you meant to use a string literal like: '" + h + "'?"))) } }, f = function (a, b, d, f) { var g = angular.element.extend(!0, {}, a.$eval(d.kOptions)); return angular.forEach(d, function (b, c) { e(f, a, g, c, b) }), g.dataSource = b.inheritedData("$kendoDataSource") || g.dataSource, c.decorateOptions(b, f, g), g }, g = function (a, b, c, d) { var e = f(a, b, c, d); return b[d](e).data(d) }; return { create: g } }]), angular.module("kendo.directives").factory("directiveFactory", ["widgetFactory", "$timeout", "$parse", function (a, b, c) { function d(a, b, d, e) { if (d[e]) { var f = c(d[e]).assign; if (!f) throw new Error(e + " attribute used but expression in it is not assignable: " + d[e]); f(b, a) } } var e = function (c) { return { restrict: "ACE", transclude: !0, require: "?ngModel", scope: !1, controller: ["$scope", "$attrs", "$element", "$transclude", function (a, b, c, d) { d(function (a) { c.append(a) }) }], link: function (e, f, g, h) { var i; b(function () { if (i = a.create(e, f, g, c), d(i, e, g, c), g.kRebind && e.$watch(g.kRebind, function (b, h) { b !== h && (i = a.create(e, f, g, c), d(i, e, g, c)) }, !0), e.$on("$destroy", function () { i.destroy() }), h) { if (!i.value) throw new Error("ng-model used but " + c + " does not define a value accessor"); h.$render = function () { i.value(h.$viewValue || null) }, void 0 !== i.value && i.value(h.$viewValue || null), i.bind("change", function () { "$apply" === e.$root.$$phase || "$digest" === e.$root.$$phase ? h.$setViewValue(i.value()) : e.$apply(function () { h.$setViewValue(i.value()) }) }) } }) } } }; return { create: e } }]), function (a) { var b = a.injector(["kendo.directives"]).get("kendoWidgets"); a.forEach(b, function (b) { a.module("kendo.directives").directive(b, ["directiveFactory", function (a) { return a.create(b) }]) }) }(angular), angular.module("kendo.directives").directive("kDataSource", [function () { var a = function (a) { return kendo.data.DataSource.create(a) }, b = function (a) { return kendo.widgetInstance(a, kendo.ui) || kendo.widgetInstance(a, kendo.dataviz.ui) }; return { restrict: "A", controller: ["$scope", "$attrs", "$element", function (c, d, e) { var f = c.$eval(d.kDataSource); e.data("$kendoDataSource", a(f)), $.isArray(f) && c.$watch(d.kDataSource, function (a, c) { if (a !== c) { var d = b(e); d && d.dataSource && d.dataSource.read() } }, !0) }] } }]), angular.module("kendo.directives").directive("kendoGrid", ["$compile", "kendoDecorator", "$parse", function (a, b, c) { function d(b, c, d) { var e = c.data("kendoGrid"), f = e.tbody.children("tr"); f.each(function (c, f) { var g = b.$new(); g.$index = c, g[d] = e.dataItem(f), a(f)(g) }) } function e(a) { var b = a.data("kendoGrid").tbody.children("tr.ng-scope"); b.each(function (a, b) { var c = angular.element(b).scope(); c.$destroy() }) } function f(a, b) { return function (c, f) { var g = f.dataBinding, h = f.dataBound; f.dataBound = function () { d(a, c, b), angular.isFunction(h) && h() }, f.dataBinding = function () { e(c), angular.isFunction(g) && g() } } } function g(a, b) { return function (c, d) { d.change = function (c) { var e, f, g, h, i, j, k = { kendoEvent: c }; angular.isString(d.selectable) && (e = -1 !== d.selectable.indexOf("cell"), f = -1 !== d.selectable.indexOf("multiple")), g = k.selected = this.select(), h = k.data = [], i = k.columns = []; for (var l = 0; l < g.length; l++) { var m = this.dataItem(e ? g[l].parentNode : g[l]); e ? (angular.element.inArray(m, h) < 0 && h.push(m), j = angular.element(g[l]).index(), angular.element.inArray(j, i) < 0 && i.push(j)) : h.push(m) } f || (k.data = h[0], k.selected = g[0]), a.$apply(function () { b(a, k) }) } } } return { restrict: "ACE", link: function (a, d, e) { b.addOptionsDecorator(d, f(a, "dataItem")), e.kOnChange && b.addOptionsDecorator(d, g(a, c(e.kOnChange))) } } }]);